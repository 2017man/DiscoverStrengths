# 《发现你的天赋优势》开发计划

## 一、项目概述

**项目名称**：发现你的天赋优势  
**主 Slogan**：发现天赋，迈出第一步  
**副标（轮换）**：你的优势，值得被看见 / 天赋是起点，成长是旅程  
**项目定位**：帮助大学生、职场迷茫期、上升期、想做副业不知擅长什么的上班族发现优势天赋；**网站是工具和入口**，最终目标是**帮助更多人解决困境与迷茫、与用户一起成长**，差异化在于有温度的成长陪伴（而非单纯测评/卖报告）  
**技术栈**：uniapp (H5) + Laravel + dcat-admin + MySQL 5.7  
**支付方式**：第三方易支付（微信支付）；各测评类型价格在后台可配置  
**相关文档**：[对话共识与决策记录](./对话共识与决策记录.md) | [运营规划](./运营规划.md) | [开发规划](./开发规划.md)  

---

## 二、本期开发范围

**v1.0 仅上线 MBTI 职业性格测试**，跑通答题→报告→付费→下载整条闭环。  
**首页展示 4 个测评卡片**（MBTI、霍兰德、DISC、职业锚），仅 MBTI 可点击，其余 3 个灰色「即将上线」；国内版双语放在 v1.0 之后（v1.1）。

### MBTI 参考材料

| 材料文件 | 用途 |
|---------|------|
| 01-测试类型.csv | 测试类型基础信息（code、名称、价格、题数等） |
| 01-计分规则.csv | 计分规则（test_type）→ strengths_test_scoring_rules |
| 02-题目类型.csv | 题目分组（分组代码、题目标题、是否有题目）→ strengths_test_questions_section |
| 02-题目-题目.csv | MBTI 题目（需补 test_type、section_code）→ strengths_test_questions |
| 02-题目-题目选项.csv | 题目选项与计分用 dimension_side（E/I/S/N/T/F/J/P） |
| 03-答案-MBTI的四个维度.csv | 四个维度说明 → strengths_test_dimensions |
| 03-答案-四个维度八个面.csv | 八个面说明 → strengths_test_dimension_sides |
| 03-答案-十六种性格类型.csv | 16 种人格类型完整报告 → strengths_test_answer（一张表） |
| 04-评分规则.csv | 同分处理规则（不建表，见《数据库设计》评分规则说明） |

详见 [CSV与表结构说明](./docs/CSV与表结构说明.md)、[数据库设计](./docs/数据库设计.md)。

### 数据表设计原则

- **表名统一前缀**：所有业务表以 `strengths_` 为前缀（如 strengths_test_types、strengths_orders）。
- **关联用 test_type**：各业务表用 `test_type`（存 strengths_test_types.code，如 MBTI、HOLLAND）直接关联测试类型。
- **每个测试类型独立业务数据**：题目、计分规则、结果等按 test_type 区分；十六种性格用一张表 **strengths_test_answer** 存完整报告内容；用户测试记录用 **strengths_test_results_records**。
- 便于后期维护和扩展、不同测试类型的结构差异、独立迭代和优化。详见 [数据库设计](./docs/数据库设计.md)。

---

## 三、开发阶段规划

### 第一阶段：MBTI 职业性格测试（本期）

**目标**：完成 MBTI 测试的完整闭环，包括答题、计分、报告生成、付费解锁

#### 功能清单
- [ ] MBTI 测试题目展示与答题
- [ ] MBTI 计分算法实现
- [ ] MBTI 结果报告生成（16 种人格类型）
- [ ] 免费预览（30% 内容）
- [ ] 付费解锁完整报告
- [ ] PDF 报告下载

### 第二阶段：其他测试（后期开发）

| 测试类型 | 优先级 | 状态 |
|---------|-------|------|
| 霍兰德职业兴趣测试 | P2 | 待开发 |
| DISC 性格测试 | P3 | 待开发 |
| 职业锚测试 | P3 | 待开发 |

---

## 四、功能模块（v1.0 MVP）

### 4.1 测试工具模块
- [x] MBTI 职业性格测试（本期）
- [ ] 霍兰德职业兴趣测试（后期）
- [ ] 职业锚测试（后期）
- [ ] DISC 性格测试（后期）

### 4.2 用户系统
- [x] 匿名测试（无需登录）
- [x] H5 授权获取微信 openID
- [x] 支付时记录用户信息（openID、unionID、昵称、头像）
- [x] 防重复付费机制（同一 openID + 测试类型）

### 4.3 支付系统
- [x] 易支付接口接入
- [x] 支付回调处理
- [x] 订单管理
- [x] 各测评类型价格在后台可配置（前端与支付按配置读取）

### 4.4 报告系统
- [x] 免费预览（30% 内容）
- [x] 付费解锁（完整报告）
- [x] PDF 报告下载
- [x] 报告风格：权威 + 温馨 + 社群引流；副标 B/E 轮换（你的优势，值得被看见 / 天赋是起点，成长是旅程）

### 4.5 SEO 优化
- [x] 页面标题、描述、关键词
- [x] 结构化数据

---

## 五、核心业务流程

### 5.1 测试流程
```
用户访问首页 
→ 选择 MBTI 测试 
→ 查看测试说明 
→ 开始答题（记录到 session/localStorage）
→ 提交答案 
→ 计算结果 
→ 显示预览（30% 免费内容）
→ 点击「查看完整报告」
→ 检查是否已付费
  ├─ 已付费 → 直接显示完整报告
  └─ 未付费 → 跳转支付页面
```

### 5.2 支付流程
```
用户点击支付
→ 调用易支付接口
→ 跳转支付页面
→ 支付成功
→ 支付回调
→ 更新订单状态
→ 更新测试结果付费状态
→ 跳转报告页面
```

---

## 六、前端页面清单

### MBTI 相关页面
- [ ] 首页（测试入口：4 个测评卡片，MBTI 可点，霍兰德/DISC/职业锚灰色「即将上线」）
- [ ] MBTI 测试说明页
- [ ] MBTI 答题页
- [ ] MBTI 结果预览页
- [ ] MBTI 完整报告页
- [ ] 支付页

### 通用页面
- [ ] 测试列表页
- [ ] 我的测试记录页
- [ ] 订单详情页

---

## 七、报告模板设计（MBTI）

### 第一部分：免费预览（30%）
- 测试结果：如 INTJ - 建筑师
- 核心特征（3–5 条）
- 一句话总结

### 第二部分：付费解锁（70%）
- 详细解读
  - 性格特征详解
  - 优势与劣势
  - 职业倾向
  - 适合的工作环境
- 职业推荐（5–8 个职业）
- 成长建议（3–5 条）
- 温馨寄语（成长名言）
- 社群引流（公众号 / 社群二维码）

---

## 八、待确认事项

- [ ] 易支付账号和配置信息（暂时没有，先做接口）
- [ ] 公众号二维码（后续提供）
- [ ] 社群二维码（后续提供）
- [ ] MBTI 题库数据核对（参考 CSV 素材文件）

---

## 九、后续版本规划

### v2.0：AI 组合分析
- AI 模型实现不同测试结果的组合分析
- 2 种组合、3 种组合、4 种组合定价

### v3.0：职业库 + 成长路径
- 职业分类大典数据
- AI 职业匹配
- 成长路径规划

---

## 十、相关文档

| 文档 | 说明 |
|-----|------|
| [数据库设计](./docs/数据库设计.md) | 设计原则、表结构、**MBTI 测试逻辑**（计分与报告数据流）、评分规则说明 |
| [CSV与表结构说明](./docs/CSV与表结构说明.md) | 各 CSV 与表列对应、导入顺序 |
| [接口文档](./docs/接口文档.md) | 请求路径、参数、响应格式 |
| [数据库建表脚本](./database/建表脚本.sql) | 可执行的 SQL（10 张表，关联用 test_type） |
| [后端开发文档](./docs/后端开发文档.md) | 后端实现思路、计分与报告逻辑、支付（供单独后端项目使用） |
| [前端开发文档](./docs/前端开发文档.md) | 请求封装、组件引入、页面与路由 |

---

## 十一、注意事项

1. **H5 授权获取 openID**：需在微信 H5 环境下测试
2. **防重复付费**：同一 openID + 测试类型，已付费则直接显示报告
3. **报告生成**：使用题库标准答案，确保权威性
4. **温馨文字**：使用成长名言库，增加温度感
5. **社群引流**：报告末尾添加公众号 / 社群二维码
6. **独立表设计**：每个测试类型使用独立数据表，便于后期维护和扩展
